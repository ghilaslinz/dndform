{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from \"react\";\nimport { ReactFormGenerator } from \"react-form-builder2\";\nexport default class Demobar extends React.Component {\n  constructor(props) {\n    super(props); // console.log(`Demobar: `, props);\n\n    this.state = {\n      data: props.data,\n      answers: props.answers,\n      roPreviewVisible: props.roPreviewVisible\n    };\n  }\n\n  showRoPreview() {\n    this.setState({\n      roPreviewVisible: true\n    });\n  }\n\n  closePreview() {\n    this.setState({\n      roPreviewVisible: false\n    });\n  }\n\n  render() {\n    const {\n      answers,\n      data\n    } = this.state;\n    let roModalClass = \"modal ro-modal\";\n\n    if (this.state.roPreviewVisible) {\n      roModalClass += \" show d-block\";\n    }\n\n    return /*#__PURE__*/_jsxs(\"div\", {\n      className: \"clearfix\",\n      style: {\n        margin: \"10px\",\n        width: \"70%\"\n      },\n      children: [/*#__PURE__*/_jsx(\"h4\", {\n        className: \"float-left\",\n        children: \"Preview\"\n      }), /*#__PURE__*/_jsx(\"button\", {\n        className: \"btn btn-default float-right\",\n        style: {\n          marginRight: \"10px\"\n        },\n        onClick: this.showRoPreview.bind(this),\n        children: \"Read Only Form\"\n      }), this.state.roPreviewVisible && /*#__PURE__*/_jsx(\"div\", {\n        className: roModalClass,\n        children: /*#__PURE__*/_jsx(\"div\", {\n          className: \"modal-dialog modal-lg\",\n          children: /*#__PURE__*/_jsxs(\"div\", {\n            className: \"modal-content\",\n            children: [/*#__PURE__*/_jsx(\"div\", {\n              className: \"modal-body\",\n              children: /*#__PURE__*/_jsx(ReactFormGenerator, {\n                download_path: \"\",\n                back_action: \"/\",\n                back_name: \"Back\",\n                answer_data: answers,\n                action_name: \"Save\",\n                form_action: \"/\",\n                form_method: \"POST\",\n                read_only: true,\n                variables: this.props.variables,\n                hide_actions: true,\n                data: data\n              })\n            }), /*#__PURE__*/_jsx(\"div\", {\n              className: \"modal-footer\",\n              children: /*#__PURE__*/_jsx(\"button\", {\n                type: \"button\",\n                className: \"btn btn-default\",\n                \"data-dismiss\": \"modal\",\n                onClick: this.closePreview.bind(this),\n                children: \"Close\"\n              })\n            })]\n          })\n        })\n      })]\n    });\n  }\n\n} // eslint-disable-next-line func-names\n\n/*Demobar.getInitialProps = async function ({ req }) {\n\tconst protocol = req.headers.referer.split(\"://\")[0];\n\tconst hostUrl = `${protocol}://${req.headers.host}`;\n\tconst url = `${hostUrl}/api/formdata`;\n\tconst getUrl = `${hostUrl}/api/form`;\n\tconst answers = await get(getUrl);\n\tconst data = await get(url);\n\treturn {\n\t\tdata,\n\t\tanswers,\n\t\troPreviewVisible: true,\n\t};\n};*/","map":null,"metadata":{},"sourceType":"module"}