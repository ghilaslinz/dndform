{"ast":null,"code":"import dbconnect from \"../../../mongoose/mongoose\";\nimport login from \"../../../mongoose/models/login\";\nimport profile from \"../../../mongoose/models/profile\";\nimport bcrypt from \"bcrypt\";\ndbconnect();\nexport default (async (req, res) => {\n  const {\n    method\n  } = req;\n\n  switch (method) {\n    case \"POST\":\n      try {\n        const Hash = await login.findOne({\n          email: req.body.email\n        });\n\n        if (Hash) {\n          const checkHash = await bcrypt.compare(req.body.pass, Hash.hash);\n\n          if (checkHash) {\n            const profil = await profile.findOne({\n              email: req.body.email\n            });\n            res.status(200).json({\n              sucses: true,\n              data: profil\n            });\n            res.end();\n          }\n        }\n      } catch (error) {\n        res.status(400).json({\n          sucees: false,\n          error: error\n        });\n        res.end();\n      }\n\n      break;\n\n    default:\n      break;\n  }\n});","map":null,"metadata":{},"sourceType":"module"}