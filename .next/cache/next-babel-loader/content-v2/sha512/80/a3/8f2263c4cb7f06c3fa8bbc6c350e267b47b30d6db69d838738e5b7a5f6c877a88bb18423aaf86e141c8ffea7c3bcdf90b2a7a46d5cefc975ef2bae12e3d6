{"ast":null,"code":"import dbconnect from \"../../../mongoose/mongoose\";\nimport form from \"../../../mongoose/models/form\";\nimport mongoose from \"mongoose\";\ndbconnect();\nexport default (async (req, res) => {\n  const {\n    method\n  } = req;\n\n  switch (method) {\n    case \"POST\":\n      try {\n        const newform = await new form({\n          _id: new mongoose.Types.ObjectId(),\n          tools: req.body\n        });\n        newform.save().then(data => {\n          res.json(data._id);\n          res.end();\n        });\n      } catch (error) {\n        console.log(error);\n        res.status(400).json({\n          sucees: false\n        });\n      }\n\n      break;\n\n    default:\n      break;\n  }\n});","map":{"version":3,"sources":["D:/upwork projects/New folder (4)/form-projet-finale/pages/api/createform/index.js"],"names":["dbconnect","form","mongoose","req","res","method","newform","_id","Types","ObjectId","tools","body","save","then","data","json","end","error","console","log","status","sucees"],"mappings":"AAAA,OAAOA,SAAP,MAAsB,4BAAtB;AACA,OAAOC,IAAP,MAAiB,+BAAjB;AACA,OAAOC,QAAP,MAAqB,UAArB;AAEAF,SAAS;AAET,gBAAe,OAAOG,GAAP,EAAYC,GAAZ,KAAoB;AAClC,QAAM;AAAEC,IAAAA;AAAF,MAAaF,GAAnB;;AACA,UAAQE,MAAR;AACC,SAAK,MAAL;AACC,UAAI;AACH,cAAMC,OAAO,GAAG,MAAM,IAAIL,IAAJ,CAAS;AAC9BM,UAAAA,GAAG,EAAE,IAAIL,QAAQ,CAACM,KAAT,CAAeC,QAAnB,EADyB;AAE9BC,UAAAA,KAAK,EAAEP,GAAG,CAACQ;AAFmB,SAAT,CAAtB;AAIAL,QAAAA,OAAO,CAACM,IAAR,GAAeC,IAAf,CAAqBC,IAAD,IAAU;AAC7BV,UAAAA,GAAG,CAACW,IAAJ,CAASD,IAAI,CAACP,GAAd;AACAH,UAAAA,GAAG,CAACY,GAAJ;AACA,SAHD;AAIA,OATD,CASE,OAAOC,KAAP,EAAc;AACfC,QAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACAb,QAAAA,GAAG,CAACgB,MAAJ,CAAW,GAAX,EAAgBL,IAAhB,CAAqB;AAAEM,UAAAA,MAAM,EAAE;AAAV,SAArB;AACA;;AAED;;AAED;AACC;AAnBF;AAqBA,CAvBD","sourcesContent":["import dbconnect from \"../../../mongoose/mongoose\";\r\nimport form from \"../../../mongoose/models/form\";\r\nimport mongoose from \"mongoose\";\r\n\r\ndbconnect();\r\n\r\nexport default async (req, res) => {\r\n\tconst { method } = req;\r\n\tswitch (method) {\r\n\t\tcase \"POST\":\r\n\t\t\ttry {\r\n\t\t\t\tconst newform = await new form({\r\n\t\t\t\t\t_id: new mongoose.Types.ObjectId(),\r\n\t\t\t\t\ttools: req.body,\r\n\t\t\t\t});\r\n\t\t\t\tnewform.save().then((data) => {\r\n\t\t\t\t\tres.json(data._id);\r\n\t\t\t\t\tres.end();\r\n\t\t\t\t});\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t\tres.status(400).json({ sucees: false });\r\n\t\t\t}\r\n\r\n\t\t\tbreak;\r\n\r\n\t\tdefault:\r\n\t\t\tbreak;\r\n\t}\r\n};\r\n"]},"metadata":{},"sourceType":"module"}