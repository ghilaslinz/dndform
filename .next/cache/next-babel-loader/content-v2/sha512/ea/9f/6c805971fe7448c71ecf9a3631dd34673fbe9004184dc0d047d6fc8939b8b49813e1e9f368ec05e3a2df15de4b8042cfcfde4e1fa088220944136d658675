{"ast":null,"code":"import dbconnect from \"../../../mongoose/mongoose\";\nimport profile from \"../../../mongoose/models/profile\";\nimport login from \"../../../mongoose/models/login\";\nimport bcrypt from \"bcrypt\";\ndbconnect();\nexport default (async (req, res) => {\n  const {\n    method\n  } = req;\n\n  switch (method) {\n    case \"POST\":\n      try {\n        const saltRounds = 10;\n        await bcrypt.hash(req.body.pass, saltRounds, async function (err, hash) {\n          const logn = await login.create({\n            email: req.body.email,\n            hash: hash\n          });\n          const signup = await profile.create({\n            name: req.body.name,\n            email: req.body.email\n          });\n\n          if (signup && logn) {\n            res.status(200).json({\n              sucses: true,\n              data: signup\n            });\n            res.end();\n          }\n        });\n      } catch (error) {\n        res.status(400).json({\n          sucees: false,\n          err: error\n        });\n        res.end();\n      }\n\n      break;\n\n    default:\n      break;\n  }\n});","map":null,"metadata":{},"sourceType":"module"}